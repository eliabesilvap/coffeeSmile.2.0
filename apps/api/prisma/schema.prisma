generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum PostStatus {
  draft
  published
}

model Category {
  id    String @id @default(cuid())
  name  String
  slug  String @unique
  posts Post[]
}

model Post {
  id          String     @id @default(cuid())
  title       String
  slug        String     @unique
  excerpt     String
  content     String
  coverImageUrl      String?
  coverImagePublicId String?
  bookCoverImageUrl  String?
  bookTitle   String?
  bookAuthor  String?
  bookTranslator String?
  bookYear    Int?
  bookPublisher String?
  bookPages   Int?
  amazonUrl   String?
  author      String
  authorName  String?
  authorSlug  String?
  publishedAt DateTime
  readingTime Int
  tags        String[]
  status      PostStatus @default(draft)
  createdAt   DateTime   @default(now())
  updatedAt   DateTime   @updatedAt

  category   Category @relation(fields: [categoryId], references: [id])
  categoryId String

  @@index([categoryId])
  @@index([publishedAt])
}
